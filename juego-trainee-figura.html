<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/polymer/lib/elements/dom-if.html">

<dom-module id="juego-trainee-figura">
  <template>
    <style>
      :host {
        display: inline-block;
        --medida: 8rem;
      }

      .figura {
        display: inline-block;
        width: var(--medida);
        height: var(--medida);
        cursor: pointer;
        transition: ease .4s;
        margin: .75rem;
        position: relative;
      }
      .icono-animal{
        position: absolute;
        font-size: 4rem;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
    </style>
    <div class="figura" on-click="seleccionarFigura" style$="background-color:[[colorFigura]]">

      <template is="dom-if" if="{{estaSeleccionada}}">
        <template is="dom-if" if="{{esGanador}}">
          <span class="icono-animal">üê±</span>
        </template>
        <template is="dom-if" if="{{!esGanador}}">
          <span class="icono-animal">üê∂</span>
        </template>
      </template>

    </div>
  </template>

  <script>
    /**
     * `juego-trainee-figura`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class JuegoTraineeFigura extends Polymer.Element {
      static get is() {
        return 'juego-trainee-figura';
      }
      static get properties() {
        return {
          esGanador: {
            type: Boolean,
            value: false
          },
          estaSeleccionada: {
            type: Boolean,
            value: false
          },
          colorFigura: {
            type: String,
            computed: '_obtenerColorFigura(esGanador,estaSeleccionada)'
          }
        };
      }

      _obtenerColorFigura(esGanador, estaSeleccionada) {
        if (esGanador && estaSeleccionada) {
          return '#4CAF50'; //Verde
        } else if (!esGanador && estaSeleccionada) {
          return '#D32F2F'; //Rojo
        } else {
          return '#616161'; //Gris
        }
      }

      seleccionarFigura(e) {
        this.set('estaSeleccionada', true);
        if (this.get('esGanador')) {
          this.dispatchEvent(new CustomEvent('seleccion-ganadora', null));
        }
      }
    }
    window.customElements.define(JuegoTraineeFigura.is, JuegoTraineeFigura);
  </script>
</dom-module>